Re-caculate artifact files and hashes when the lock target changes.
